---
meta:
  title: How to manage Kubeconfig files with IAM
  description: This page explains how to manage Kubeconfig files with IAM
content:
  h1: How to manage Kubeconfig files with IAM
  paragraph: This page explains how to manage Kubeconfig files with IAM
tags: kubernetes kapsule-cluser
dates:
  validation: 2024-01-03
  posted: 2024-01-03
categories:
  - kubernetes
---


A Kubeconfig file stores the necessary credentials for accessing a Kubernetes cluster and deployment management. It includes essential information such as cluster details, authentication data, and context information, providing users with the means to oversee and manipulate their Kubernetes clusters.

Kubeconfig files are generated using IAM now. This allows you to generate more granulated access allowing you to: 
When one of their technical staff quits, customers must reset their "admin" token to avoid having a security leak. This operation requires a reboot of the API server which could take several minutes. Then, all other staff are forced to re-download the Kubeconfig file for continued access.. That's neither convenient nor scalable management for our target audience.
Since all users share the same "cluster-admin" token, Audit Logs are anonymous as of now. This isn't sufficient for our current/upcoming enterprise customers.
Applications running inside the cluster aren't authenticated using specific tokens (feature request). This is useful for when a pod needs to interact with the Kubernetes API, as it can authenticate using its associated Service Account.


<Message type="important">
    Entering a deprecation cycle, the former authentication system (using static admin tokens) remains active: all your legacy Kubeconfig files keep access to their clusters for the time being. For security measure you can still make use of the « reset admin token » feature, either through our Kubernetes API or Scaleway’s CLI.
    We recommend users to download new unique, identifiable Kubeconfig files with IAM tokens inside.
</Message>

<Macro id="iam-requirements" />

<Message type="requirement">
  - You have an account and are logged into the [Scaleway console](https://console.scaleway.com)
  - You have [created](/containers/kubernetes/how-to/create-cluster) a Kubernetes Kapsule cluster
</Message>

1. Click **Kubernetes** in the **Containers** section of the [Scaleway console](https://console.scaleway.com) side menu. The Kubernetes Kapsule overview displays.
2. Click the name of the cluster you want to access. The cluster overview page displays. Click on the name of the cluster you want to manage.
3. Scroll down to the **Download kubeconfig with IAM** section of the page.
4. Click **Download kubeconfig**
5. Select the API key bearer, enter a description and set the expiration date for the kubeconfig file, then click **Generate kubeconfig**.
6. Download the kubeconfig file and export the path to start using it with `kubectl`.

You can now manage your cluster using `kubectl`. For more information about this tool, refer to the [official kubectl documentation](https://kubernetes.io/docs/reference/kubectl/).