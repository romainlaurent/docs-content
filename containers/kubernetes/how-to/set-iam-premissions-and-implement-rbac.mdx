---
meta:
  title: How to set IAM permissions and implement RBAC on a cluster
  description: This page explains how to set IAM permissions and implement RBAC on a cluster
content:
  h1: How to set IAM permissions and implement RBAC on a cluster
  paragraph: This page explains how to set IAM permissions and implement RBAC on a cluster
tags: kubernetes kapsule-cluser
dates:
  validation: 2024-01-03
  posted: 2024-01-03
categories:
  - kubernetes
---

Role-based access control (RBAC) is a ntive feature of Kubernetes and a method of regulating access to computer or network resources based on the roles of individual users within your Organization.
The feature is activated on Scaleway Kubernetes Kapsule and Kosmos by default and allows you to assign roles to users, groups or ServicesAccount via RoleBindings and ClusterRoleBindings.


The system is based on apiserver's Webhook Token Authentication. When the apiserver receives a request, it calls the webhook via an "apiVersion" resource: "authentication.k8s.io/v1", "kind": "TokenReview" and a component must validate the token sent. 

If the user has the `KubernetesFullAccess` permission (`kubernetes:cluster:write`) on the project, then the response assigns the user `kubernetes-admin` and the group `system:master`, as in the case of the kubeconfig static token.
Otherwise, it is simply denied.

Key components of RBAC in Kubernetes include:

1. **Roles and ClusterRoles:**
   - **Roles:** These are specific to a namespace and define a set of permissions for resources within that namespace (e.g., pods, services).
   - **ClusterRoles:** These are similar to roles but apply cluster-wide, spanning across all namespaces.

2. **RoleBindings and ClusterRoleBindings:**
   - **RoleBindings:** These associate a set of permissions defined in a Role with a user, group, or service account within a specific namespace.
   - **ClusterRoleBindings:** These associate a set of permissions defined in a ClusterRole with a user, group, or service account across the entire cluster.

3. **Subjects:**
   - A subject in RBAC can be a user, a group, or a service account to which roles or cluster roles are bound.

4. **Rules:**
   - Rules are sets of permissions associated with roles or cluster roles. They specify what actions are allowed or denied on specific resources.

